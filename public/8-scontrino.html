<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scontrino</title>
    <link rel="icon" type="image/svg+xml" href="asset/LT.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.typekit.net/qbb0zyi.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.serialport/1.0.0/p5.serialport.js"></script>

    <!-- <script src="script.js" defer></script> -->
    <script src="arduino.js" defer></script>
    <script src="generation.js" defer></script>
    <script src="choice/death-choice.js" defer></script>
    <script src="choice/scontrino.js" defer></script>
</head>

<body class="page4">
    <!-- <div class="vertical-guide"></div> -->

    <div class="date-name" id="final-date-scontrino">
        <div class="section-title">DEATH RECAP</div>
        <div class="date-container">
            <div class="death-title-container">
                <span class="death-name" id="death-name"></span>
            </div>
            <div class="stage-title-container">
                <span class="stage-title">DEATH'S STAGING</span>
                <span class="stage-name" id="stage-name">numero</span>
            </div>

            <div class="age-impact-title-container">
                <span class="age-impact-title">AGE IMPACT</span>
                <span class="age-impact-name" id="age-impact-name">numero</span>
            </div>

            <div class="media-impact-title-container">
                <span class="media-impact-title">MEDIA IMPACT</span>
                <span class="media-impact-name" id="media-impact-name">numero</span>
            </div>

            <div class="etherea-title-container">
                <span class="etherea-name" id="etherea-name">ETHEREA ISLAND</span>
            </div>

            <div class="transport-title-container">
                <span class="transport-title">TRANSPORT</span>
                <span class="transport-name" id="transport-name">numero</span>
            </div>

            <div class="stay-title-container">
                <span class="stay-title">N YEAR-STAY</span>
                <span class="stay-name" id="stay-name">numero</span>
            </div>

            <div class="divider"></div>

            <div class="final-price-title-container">
                <span class="final-price-name" id="final-price-name">TOTAL PRICE</span>
            </div>
            

            <!-- <div class="date-title-container">
                <span class="date-title">DATE</span>
                <span class="date-complete">
                    <span class="date-name-month" id="date-name-month"></span>
                    <span class="date-name-day" id="date-name-day"></span>
                    <span class="date-name-year" id="date-name-year"></span>
                </span>
            </div> -->

            <!-- <div class="price-title-container">
                <span class="price-title">PRICE</span>
                <span class="price-name" id="price-name"></span>
            </div> -->
        </div>
    </div>

    <script>
        // Recupera il tipo di morte selezionato da localStorage
        const selectedDeath = localStorage.getItem("selectedDeath");
        if (selectedDeath) {
            document.querySelector('#death-name').textContent = selectedDeath; // Imposta il tipo di morte nel <span>
        } else {
            console.log("Nessun tipo di morte selezionato trovato."); // Log per il debug
        }


        // Aggiungi questo script nella pagina 8-scontrino.html
document.addEventListener("DOMContentLoaded", () => {
    // Recupera i valori da localStorage
    const selectedMonth = localStorage.getItem("selectedMonth");
    const selectedDay = localStorage.getItem("selectedDay");
    const selectedYear = localStorage.getItem("selectedYear");

    // Seleziona gli elementi span
    const monthSpan = document.getElementById("date-name-month");
    const daySpan = document.getElementById("date-name-day");
    const yearSpan = document.getElementById("date-name-year");

    if (selectedMonth && selectedDay && selectedYear) {
        // Inserisci i valori negli span
        monthSpan.textContent = selectedMonth;
        // Aggiungi una virgola dopo il giorno
        daySpan.textContent = ` ${selectedDay}, `;
        yearSpan.textContent = selectedYear;
    } else {
        console.log("Dati mancanti per la data completa");
    }
});
    </script>

<script>
    // Definizione dei prezzi per ogni tipo di morte
    const deathPrices = {
        "MURDER": "2,000,000 $",
        "ILLNESS": "1,200,000 $", 
        "SUICIDE": "1,600,000 $",
        "ACCIDENT": "1,800,000 $",
        "OVERDOSE": "1,400,000 $"
    };
    
    // Funzione per impostare il prezzo in base alla morte selezionata
    function setDeathPrice() {
        // Recupera il tipo di morte selezionato
        const selectedDeath = localStorage.getItem("selectedDeath");
        
        // Recupera l'elemento del prezzo
        const priceElement = document.querySelector('#price-name');
        
        // Se c'è una morte selezionata e c'è un prezzo corrispondente
        if (selectedDeath && deathPrices[selectedDeath]) {
            priceElement.textContent = deathPrices[selectedDeath];
            console.log(`Prezzo impostato per ${selectedDeath}: ${deathPrices[selectedDeath]}`);
        } else {
            priceElement.textContent = "PRICE NOT AVAILABLE";
            console.log("Nessuna morte selezionata o prezzo non trovato");
        }
    }
    
    // Esegui la funzione quando il documento è caricato
    document.addEventListener("DOMContentLoaded", setDeathPrice);
    </script>
</body>
</html>

